{"version":3,"file":"index.js","sources":["../src/js/refs.js","../src/js/render-functions.js","../src/js/apiKey.js","../src/js/pixabay-api.js","../src/main.js"],"sourcesContent":["export default { form: document.querySelector('.js-form'), gallery: document.querySelector('.js-gallery'), loader: document.querySelector('.loader') };","export function createMarkup(array) {\n    return array.map(({ webformatURL, largeImageURL, tags, likes, views, comments, downloads }) => `<li class=\"gallery-item\">\n      <a class=\"gallery-link\" href=\"${largeImageURL}\">\n        <img class=\"gallery-image\" src=\"${webformatURL}\" alt=\"${tags}\">\n      </a>\n      <div class=\"thumb-block\">\n        <div class=\"block\">\n          <h2 class=\"title\">Likes</h2>\n          <p class=\"amount\">${likes}</p>\n        </div>\n        <div class=\"block\">\n          <h2 class=\"title\">Views</h2>\n          <p class=\"amount\">${views}</p>\n        </div>\n        <div class=\"block\">\n          <h2 class=\"title\">Comments</h2>\n          <p class=\"amount\">${comments}</p>\n        </div>\n        <div class=\"block\">\n          <h2 class=\"title\">Downloads</h2>\n          <p class=\"amount\">${downloads}</p>\n        </div>\n      </div>\n    </li>`).join('');\n}","export default { KEY: '45785559-b0577f06fb94f4ced9a4d3280', BASE_URL: 'https://pixabay.com/api/' }","import apiKey from \"./apiKey\";\nconst { KEY, BASE_URL } = apiKey;\nimport refs from \"./refs\";\nconst { loader } = refs;\nimport iziToast from \"izitoast\";\nimport \"izitoast/dist/css/iziToast.min.css\";\n\nexport function getSearch(searchText) {\n    const LINK = `${BASE_URL}?key=${KEY}&q=${searchText}&image_type=photo&orientation=horizontal&safesearch=true`;\n\n    return fetch(LINK).then(resp => { return resp.json() }).then(data => {\n        loader.style.display = 'none';\n        if (!data.hits.length) {\n            throw new Error(\n                iziToast.error({\n                    message: 'Sorry, there are no images matching your search query. Please try again!',\n                })\n            );\n        }\n\n        return data;\n\n    });\n\n}","import SimpleLightbox from \"simplelightbox\";\nimport \"simplelightbox/dist/simple-lightbox.min.css\";\nimport iziToast from \"izitoast\";\nimport \"izitoast/dist/css/iziToast.min.css\";\n\nimport refs from \"./js/refs\";\nconst { form, gallery, loader } = refs;\n\nimport { createMarkup } from \"./js/render-functions\";\nimport { getSearch } from \"./js/pixabay-api\";\n\nloader.style.display = 'none';\n\nform.addEventListener('submit', onSearch);\n\nfunction onSearch(evt) {\n    evt.preventDefault()\n    gallery.innerHTML = '';\n\n    loader.style.display = 'block';\n\n    const { query } = evt.currentTarget.elements;\n\n    if (query.value.trim() === '') {\n        return iziToast.info({\n            title: 'Hello',\n            message: 'Please enter search text!',\n        }),\n            loader.style.display = 'none';\n    }\n\n    getSearch(query.value.split(' ').join('+').trim())\n        .then(data => {\n            gallery.innerHTML = createMarkup(data.hits);\n            const refreshPage = new SimpleLightbox('.gallery a', {\n                captions: true,\n                captionsData: 'alt',\n                captionDelay: 250,\n            });\n            refreshPage.refresh();\n        })\n        .catch(err => {\n            loader.style.display = 'none';\n            console.log(`${err}`)\n        });\n\n    form.reset();\n\n}"],"names":["refs","createMarkup","array","webformatURL","largeImageURL","tags","likes","views","comments","downloads","apiKey","KEY","BASE_URL","loader","getSearch","searchText","LINK","resp","data","iziToast","form","gallery","onSearch","evt","query","SimpleLightbox","err"],"mappings":"6vBAAA,MAAeA,EAAA,CAAE,KAAM,SAAS,cAAc,UAAU,EAAG,QAAS,SAAS,cAAc,aAAa,EAAG,OAAQ,SAAS,cAAc,SAAS,CAAG,ECA/I,SAASC,EAAaC,EAAO,CAChC,OAAOA,EAAM,IAAI,CAAC,CAAE,aAAAC,EAAc,cAAAC,EAAe,KAAAC,EAAM,MAAAC,EAAO,MAAAC,EAAO,SAAAC,EAAU,UAAAC,CAAW,IAAK;AAAA,sCAC7DL,CAAa;AAAA,0CACTD,CAAY,UAAUE,CAAI;AAAA;AAAA;AAAA;AAAA;AAAA,8BAKtCC,CAAK;AAAA;AAAA;AAAA;AAAA,8BAILC,CAAK;AAAA;AAAA;AAAA;AAAA,8BAILC,CAAQ;AAAA;AAAA;AAAA;AAAA,8BAIRC,CAAS;AAAA;AAAA;AAAA,UAG7B,EAAE,KAAK,EAAE,CACnB,CCxBA,MAAAC,EAAe,CAAE,IAAK,qCAAsC,SAAU,0BAA0B,ECC1F,CAAE,IAAAC,EAAK,SAAAC,CAAU,EAAGF,EAEpB,CAAEG,OAAAA,CAAQ,EAAGb,EAIZ,SAASc,EAAUC,EAAY,CAClC,MAAMC,EAAO,GAAGJ,CAAQ,QAAQD,CAAG,MAAMI,CAAU,2DAEnD,OAAO,MAAMC,CAAI,EAAE,KAAKC,GAAiBA,EAAK,KAAM,CAAE,EAAE,KAAKC,GAAQ,CAEjE,GADAL,EAAO,MAAM,QAAU,OACnB,CAACK,EAAK,KAAK,OACX,MAAM,IAAI,MACNC,EAAS,MAAM,CACX,QAAS,0EAC7B,CAAiB,CACjB,EAGQ,OAAOD,CAEf,CAAK,CAEL,CClBA,KAAM,CAAE,KAAAE,EAAM,QAAAC,EAAS,OAAAR,CAAM,EAAKb,EAKlCa,EAAO,MAAM,QAAU,OAEvBO,EAAK,iBAAiB,SAAUE,CAAQ,EAExC,SAASA,EAASC,EAAK,CACnBA,EAAI,eAAgB,EACpBF,EAAQ,UAAY,GAEpBR,EAAO,MAAM,QAAU,QAEvB,KAAM,CAAE,MAAAW,CAAO,EAAGD,EAAI,cAAc,SAEpC,GAAIC,EAAM,MAAM,KAAI,IAAO,GACvB,OAAOL,EAAS,KAAK,CACjB,MAAO,QACP,QAAS,2BACrB,CAAS,EACGN,EAAO,MAAM,QAAU,OAG/BC,EAAUU,EAAM,MAAM,MAAM,GAAG,EAAE,KAAK,GAAG,EAAE,MAAM,EAC5C,KAAKN,GAAQ,CACVG,EAAQ,UAAYpB,EAAaiB,EAAK,IAAI,EACtB,IAAIO,EAAe,aAAc,CACjD,SAAU,GACV,aAAc,MACd,aAAc,GAC9B,CAAa,EACW,QAAO,CAC/B,CAAS,EACA,MAAMC,GAAO,CACVb,EAAO,MAAM,QAAU,OACvB,QAAQ,IAAI,GAAGa,CAAG,EAAE,CAChC,CAAS,EAELN,EAAK,MAAK,CAEd"}